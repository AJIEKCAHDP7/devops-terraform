# Terraform команды

1. **terraform init** - используется для инициализации рабочей директории Terraform. Проще говоря, она подготавливает проект к работе с Terraform, чтобы можно было использовать команды terraform plan и terraform apply.

Что делает terraform init:

Инициализация backend
Настраивает место хранения состояния Terraform (локально, S3, Azure Blob и т.д.).

Загрузка провайдеров
Скачивает необходимые плагины для провайдеров (AWS, Azure, GCP и т.д.) согласно конфигурации.

Настройка модулей
Загружает все модули, которые используются в ваших .tf файлах.

Подготовка рабочей директории
Создаёт папку .terraform/ и файл блокировки .terraform.lock.hcl.

---

2. **terraform plan** - используется после terraform init и служит для предварительного просмотра изменений, которые Terraform собирается внести в инфраструктуру. Проще говоря, она показывает, что будет создано, изменено или удалено, без фактического применения изменений.

Что делает terraform plan:

Читает ваши .tf файлы
Определяет текущую конфигурацию инфраструктуры.

Сравнивает с состоянием
Сравнивает конфигурацию с текущим состоянием (из файла состояния или backend).

Показывает план изменений
Выводит список ресурсов, которые будут:

- create — будут созданы
- update in-place — будут обновлены
- destroy — будут удалены

---

3. **terraform apply** - используется для применения изменений к инфраструктуре, которые Terraform рассчитает на основе конфигурации .tf и состояния. Проще говоря, это реальное создание, изменение или удаление ресурсов, а не просто просмотр.

Как работает terraform apply:

Сначала создаёт план
Если вы не указали заранее сохранённый план (-out=tfplan), Terraform создаёт план изменений прямо перед применением.

Показывает изменения
Перед тем как вносить изменения, Terraform выводит список ресурсов, которые будут созданы, изменены или удалены.

Подтверждение
По умолчанию Terraform попросит подтвердить операцию:
Применяет изменения
Создает, изменяет или удаляет ресурсы согласно плану.
